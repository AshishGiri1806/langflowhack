import{y as h,r as n,z as N,A as j,u as r,j as t,f as b,D as A,F as I}from"./index-e8QJh9aC.js";import{I as o}from"./input-CR-TkjST.js";function R(){const l=h(),[c,i]=n.useState(N),{login:u,isAuthenticated:L,setUserData:w}=n.useContext(j),d=r(e=>e.setLoading),{password:m,username:g}=c,x=r(e=>e.setErrorData);function a({target:{name:e,value:s}}){i(f=>({...f,[e]:s}))}function p(){A({username:g,password:m}).then(s=>{console.log("admin page"),d(!0),u(s.access_token),l("/admin/")}).catch(s=>{x({title:I,list:[s.response.data.detail]})})}return t.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center bg-muted",children:t.jsxs("div",{className:"flex w-72 flex-col items-center justify-center gap-2",children:[t.jsx("span",{className:"mb-4 text-5xl",children:"⛓️"}),t.jsx("span",{className:"mb-6 text-2xl font-semibold text-primary",children:"Admin"}),t.jsx(o,{onChange:({target:{value:e}})=>{a({target:{name:"username",value:e}})},className:"bg-background",placeholder:"Username"}),t.jsx(o,{type:"password",onChange:({target:{value:e}})=>{a({target:{name:"password",value:e}})},className:"bg-background",placeholder:"Password"}),t.jsx(b,{onClick:()=>{p()},variant:"default",className:"w-full",children:"Login"})]})})}export{R as default};
