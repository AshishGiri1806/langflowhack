import{V as F,r as l,W as yt,X as xt,Y as W,Z as Fe,_ as Ae,a0 as Ee,a1 as ke,a2 as wt,a3 as Et,a4 as $e,a5 as se,a6 as je,a7 as nt,a8 as Ne,a9 as kt,aa as $t,j as s,ab as rt,ac as jt,A as Ct,t as me,B as te,ad as Tt,I as L,ae as G,af as U,h as K,ag as V,ah as Pt,ai as ce,aj as st,ak as ge,al as _t,am as Lt,an as Ot,ao as q,ap as Me,u as Dt,n as R,aq as ne,S as Re,ar as He,as as St,at as It,au as Ft,y as At}from"./index-e8QJh9aC.js";import{u as de,S as ot,a as Nt,b as Mt,c as Rt,d as We,P as Ht}from"./index-Hx9tTUS1.js";import{g as Wt,C as Ut,I as Kt}from"./index-CveeD_kd.js";import{u as pe}from"./shortcuts-CMLmoE4H.js";import{S as ve}from"./index-BarjJ5Aq.js";import{H as Vt}from"./index-Bqc2ZDao.js";import{I as Jt}from"./input-CR-TkjST.js";import{E as Xt}from"./index-D7j--BBS.js";import"./index-DMsDFRUG.js";import"./popover-eZMmjMhl.js";import"./index-Cc8e4Dig.js";import"./index-Dp3cEFDe.js";import"./index-CrI-hm3S.js";import"./index-CgG8jb4E.js";import"./index-DU-McIir.js";import"./addNewVariableButton-nIBeCQ4i.js";import"./label-DasAbf65.js";import"./index-u77YwG8w.js";import"./index-BgPOWpTS.js";import"./checkbox-C_SFShR-.js";import"./index-ZHR7F3ag.js";import"./table-8lEBUpUR.js";const at=typeof document<"u"?F.useLayoutEffect:()=>{};function Yt(e){const n=l.useRef(null);return at(()=>{n.current=e},[e]),l.useCallback((...t)=>{const r=n.current;return r==null?void 0:r(...t)},[])}const Q=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},N=e=>e&&"window"in e&&e.window===e?e:Q(e).defaultView||window;function qt(e){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function zt(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function Gt(){return zt(/^Mac/i)}function Qt(){return qt(/Android/i)}function Zt(e){return e.mozInputSource===0&&e.isTrusted?!0:Qt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class Bt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function it(e){let n=l.useRef({isFocused:!1,observer:null});at(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=Yt(r=>{e==null||e(r)});return l.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,i=c=>{n.current.isFocused=!1,o.disabled&&t(new Bt("blur",c)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var c;(c=n.current.observer)===null||c===void 0||c.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function en(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const i=l.useCallback(f=>{if(f.target===f.currentTarget)return r&&r(f),o&&o(!1),!0},[r,o]),c=it(i),u=l.useCallback(f=>{const h=Q(f.target);f.target===f.currentTarget&&h.activeElement===f.target&&(t&&t(f),o&&o(!0),c(f))},[o,t,c]);return{focusProps:{onFocus:!n&&(t||o||r)?u:void 0,onBlur:!n&&(r||o)?i:void 0}}}let Z=null,be=new Set,z=new Map,M=!1,ye=!1;const tn={Tab:!0,Escape:!0};function Ce(e,n){for(let t of be)t(e,n)}function nn(e){return!(e.metaKey||!Gt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function oe(e){M=!0,nn(e)&&(Z="keyboard",Ce("keyboard",e))}function O(e){Z="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(M=!0,Ce("pointer",e))}function lt(e){Zt(e)&&(M=!0,Z="virtual")}function ut(e){e.target===window||e.target===document||(!M&&!ye&&(Z="virtual",Ce("virtual",e)),M=!1,ye=!1)}function ct(){M=!1,ye=!0}function xe(e){if(typeof window>"u"||z.get(N(e)))return;const n=N(e),t=Q(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){M=!0,r.apply(this,arguments)},t.addEventListener("keydown",oe,!0),t.addEventListener("keyup",oe,!0),t.addEventListener("click",lt,!0),n.addEventListener("focus",ut,!0),n.addEventListener("blur",ct,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",O,!0),t.addEventListener("pointermove",O,!0),t.addEventListener("pointerup",O,!0)):(t.addEventListener("mousedown",O,!0),t.addEventListener("mousemove",O,!0),t.addEventListener("mouseup",O,!0)),n.addEventListener("beforeunload",()=>{dt(e)},{once:!0}),z.set(n,{focus:r})}const dt=(e,n)=>{const t=N(e),r=Q(e);n&&r.removeEventListener("DOMContentLoaded",n),z.has(t)&&(t.HTMLElement.prototype.focus=z.get(t).focus,r.removeEventListener("keydown",oe,!0),r.removeEventListener("keyup",oe,!0),r.removeEventListener("click",lt,!0),t.removeEventListener("focus",ut,!0),t.removeEventListener("blur",ct,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",O,!0),r.removeEventListener("pointermove",O,!0),r.removeEventListener("pointerup",O,!0)):(r.removeEventListener("mousedown",O,!0),r.removeEventListener("mousemove",O,!0),r.removeEventListener("mouseup",O,!0)),z.delete(t))};function rn(e){const n=Q(e);let t;return n.readyState!=="loading"?xe(e):(t=()=>{xe(e)},n.addEventListener("DOMContentLoaded",t)),()=>dt(e,t)}typeof document<"u"&&rn();function pt(){return Z!=="pointer"}const sn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function on(e,n,t){var r;const o=typeof window<"u"?N(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?N(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?N(t==null?void 0:t.target).HTMLElement:HTMLElement,u=typeof window<"u"?N(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof o&&!sn.has(t==null||(r=t.target)===null||r===void 0?void 0:r.type)||(t==null?void 0:t.target)instanceof i||(t==null?void 0:t.target)instanceof c&&(t==null?void 0:t.target.isContentEditable),!(e&&n==="keyboard"&&t instanceof u&&!tn[t.key])}function an(e,n,t){xe(),l.useEffect(()=>{let r=(o,i)=>{on(!!(t!=null&&t.isTextInput),o,i)&&e(pt())};return be.add(r),()=>{be.delete(r)}},n)}function ln(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=e,i=l.useRef({isFocusWithin:!1}),c=l.useCallback(h=>{i.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(i.current.isFocusWithin=!1,t&&t(h),o&&o(!1))},[t,o,i]),u=it(c),f=l.useCallback(h=>{!i.current.isFocusWithin&&document.activeElement===h.target&&(r&&r(h),o&&o(!0),i.current.isFocusWithin=!0,u(h))},[r,o,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:c}}}let ae=!1,fe=0;function we(){ae=!0,setTimeout(()=>{ae=!1},50)}function Ue(e){e.pointerType==="touch"&&we()}function un(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Ue):document.addEventListener("touchend",we),fe++,()=>{fe--,!(fe>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Ue):document.removeEventListener("touchend",we))}}function cn(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[i,c]=l.useState(!1),u=l.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;l.useEffect(un,[]);let{hoverProps:f,triggerHoverEnd:h}=l.useMemo(()=>{let v=(m,w)=>{if(u.pointerType=w,o||w==="touch"||u.isHovered||!m.currentTarget.contains(m.target))return;u.isHovered=!0;let k=m.currentTarget;u.target=k,n&&n({type:"hoverstart",target:k,pointerType:w}),t&&t(!0),c(!0)},b=(m,w)=>{if(u.pointerType="",u.target=null,w==="touch"||!u.isHovered)return;u.isHovered=!1;let k=m.currentTarget;r&&r({type:"hoverend",target:k,pointerType:w}),t&&t(!1),c(!1)},y={};return typeof PointerEvent<"u"?(y.onPointerEnter=m=>{ae&&m.pointerType==="mouse"||v(m,m.pointerType)},y.onPointerLeave=m=>{!o&&m.currentTarget.contains(m.target)&&b(m,m.pointerType)}):(y.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},y.onMouseEnter=m=>{!u.ignoreEmulatedMouseEvents&&!ae&&v(m,"mouse"),u.ignoreEmulatedMouseEvents=!1},y.onMouseLeave=m=>{!o&&m.currentTarget.contains(m.target)&&b(m,"mouse")}),{hoverProps:y,triggerHoverEnd:b}},[n,t,r,o,u]);return l.useEffect(()=>{o&&h({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:f,isHovered:i}}function dn(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=l.useRef({isFocused:!1,isFocusVisible:n||pt()}),[i,c]=l.useState(!1),[u,f]=l.useState(()=>o.current.isFocused&&o.current.isFocusVisible),h=l.useCallback(()=>f(o.current.isFocused&&o.current.isFocusVisible),[]),v=l.useCallback(m=>{o.current.isFocused=m,c(m),h()},[h]);an(m=>{o.current.isFocusVisible=m,h()},[],{isTextInput:t});let{focusProps:b}=en({isDisabled:r,onFocusChange:v}),{focusWithinProps:y}=ln({isDisabled:!r,onFocusWithinChange:v});return{isFocused:i,isFocusVisible:u,focusProps:r?y:b}}function ft(e){return yt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function pn(e){let n=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+n,bottom:e.clientY+t,left:e.clientX-n}}function fn(e,n){return!(!e||!n||e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)}function hn({disabled:e=!1}={}){let n=l.useRef(null),[t,r]=l.useState(!1),o=xt(),i=W(()=>{n.current=null,r(!1),o.dispose()}),c=W(u=>{if(o.dispose(),n.current===null){n.current=u.currentTarget,r(!0);{let f=ft(u.currentTarget);o.addEventListener(f,"pointerup",i,!1),o.addEventListener(f,"pointermove",h=>{if(n.current){let v=pn(h);r(fn(v,n.current.getBoundingClientRect()))}},!1),o.addEventListener(f,"pointercancel",i,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:c,onPointerUp:i,onClick:i}}}function mn(e){let n=e.parentElement,t=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(t=n),n=n.parentElement;let r=(n==null?void 0:n.getAttribute("disabled"))==="";return r&&gn(t)?!1:r}function gn(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}var H=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(H||{});let vn=l.createContext(()=>{});function bn({value:e,children:n}){return F.createElement(vn.Provider,{value:e},n)}function Ke(e){var n;if(e.type)return e.type;let t=(n=e.as)!=null?n:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function yn(e,n){let[t,r]=l.useState(()=>Ke(e));return Fe(()=>{r(Ke(e))},[e.type,e.as]),Fe(()=>{t||n.current&&n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&r("button")},[t,n]),t}var Ve;let xn=(Ve=F.startTransition)!=null?Ve:function(e){e()};var wn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(wn||{}),En=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(En||{});let kn={0:e=>({...e,disclosureState:$e(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},3(e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}},Te=l.createContext(null);Te.displayName="DisclosureContext";function Pe(e){let n=l.useContext(Te);if(n===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Pe),t}return n}let _e=l.createContext(null);_e.displayName="DisclosureAPIContext";function ht(e){let n=l.useContext(_e);if(n===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ht),t}return n}let Le=l.createContext(null);Le.displayName="DisclosurePanelContext";function $n(){return l.useContext(Le)}function jn(e,n){return $e(n.type,kn,e,n)}let Cn=l.Fragment;function Tn(e,n){let{defaultOpen:t=!1,...r}=e,o=l.useRef(null),i=ke(n,wt(a=>{o.current=a},e.as===void 0||e.as===l.Fragment)),c=l.useRef(null),u=l.useRef(null),f=l.useReducer(jn,{disclosureState:t?0:1,linkedPanel:!1,buttonRef:u,panelRef:c,buttonId:null,panelId:null}),[{disclosureState:h,buttonId:v},b]=f,y=W(a=>{b({type:1});let g=ft(o);if(!g||!v)return;let d=a?a instanceof HTMLElement?a:a.current instanceof HTMLElement?a.current:g.getElementById(v):g.getElementById(v);d==null||d.focus()}),m=l.useMemo(()=>({close:y}),[y]),w=l.useMemo(()=>({open:h===0,close:y}),[h,y]),k={ref:i};return F.createElement(Te.Provider,{value:f},F.createElement(_e.Provider,{value:m},F.createElement(bn,{value:y},F.createElement(Et,{value:$e(h,{0:se.Open,1:se.Closed})},je({ourProps:k,theirProps:r,slot:w,defaultTag:Cn,name:"Disclosure"})))))}let Pn="button";function _n(e,n){let t=l.useId(),{id:r=`headlessui-disclosure-button-${t}`,disabled:o=!1,autoFocus:i=!1,...c}=e,[u,f]=Pe("Disclosure.Button"),h=$n(),v=h===null?!1:h===u.panelId,b=l.useRef(null),y=ke(b,n,v?null:u.buttonRef),m=nt();l.useEffect(()=>{if(!v)return f({type:2,buttonId:r}),()=>{f({type:2,buttonId:null})}},[r,f,v]);let w=W(C=>{var I;if(v){if(u.disclosureState===1)return;switch(C.key){case H.Space:case H.Enter:C.preventDefault(),C.stopPropagation(),f({type:0}),(I=u.buttonRef.current)==null||I.focus();break}}else switch(C.key){case H.Space:case H.Enter:C.preventDefault(),C.stopPropagation(),f({type:0});break}}),k=W(C=>{switch(C.key){case H.Space:C.preventDefault();break}}),a=W(C=>{var I;mn(C.currentTarget)||o||(v?(f({type:0}),(I=u.buttonRef.current)==null||I.focus()):f({type:0}))}),{isFocusVisible:g,focusProps:d}=dn({autoFocus:i}),{isHovered:p,hoverProps:j}=cn({isDisabled:o}),{pressed:$,pressProps:x}=hn({disabled:o}),T=l.useMemo(()=>({open:u.disclosureState===0,hover:p,active:$,disabled:o,focus:g,autofocus:i}),[u,p,$,g,o,i]),S=yn(e,b),X=v?Ne({ref:y,type:S,disabled:o||void 0,autoFocus:i,onKeyDown:w,onClick:a},d,j,x):Ne({ref:y,id:r,type:S,"aria-expanded":u.disclosureState===0,"aria-controls":u.linkedPanel?u.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:w,onKeyUp:k,onClick:a},d,j,x);return je({mergeRefs:m,ourProps:X,theirProps:c,slot:T,defaultTag:Pn,name:"Disclosure.Button"})}let Ln="div",On=Ae.RenderStrategy|Ae.Static;function Dn(e,n){let t=l.useId(),{id:r=`headlessui-disclosure-panel-${t}`,...o}=e,[i,c]=Pe("Disclosure.Panel"),{close:u}=ht("Disclosure.Panel"),f=nt(),h=ke(n,i.panelRef,w=>{xn(()=>c({type:w?4:5}))});l.useEffect(()=>(c({type:3,panelId:r}),()=>{c({type:3,panelId:null})}),[r,c]);let v=kt(),b=v!==null?(v&se.Open)===se.Open:i.disclosureState===0,y=l.useMemo(()=>({open:i.disclosureState===0,close:u}),[i,u]),m={ref:h,id:r};return F.createElement(Le.Provider,{value:i.panelId},je({mergeRefs:f,ourProps:m,theirProps:o,slot:y,defaultTag:Ln,features:On,visible:b,name:"Disclosure.Panel"}))}let Sn=Ee(Tn),In=Ee(_n),Fn=Ee(Dn),J=Object.assign(Sn,{Button:In,Panel:Fn});const re=$t((e,n)=>({tweak:[],setTweak:t=>e({tweak:t}),tweaksList:[],setTweaksList:t=>e({tweaksList:t})}));function An(e){return s.jsx("div",{className:"w-[200px]",children:s.jsx("span",{children:e!=null&&e!=""?e:"None"})})}function Je(e){return e.data.nodes.reduce((n,t)=>(n[t.data.id]={},n),{})}const Nn=(e,n)=>e.data.node.template[n]&&n.charAt(0)!=="_"&&e.data.node.template[n].show&&rt.has(e.data.node.template[n].type)&&n!=="code",Mn=(e,n)=>(typeof e=="string"&&n.type==="float"&&(e=parseFloat(e)),typeof e=="string"&&n.type==="int"&&(e=parseInt(e)),n.list===!0&&Array.isArray(e)&&(e=e==null?void 0:e.filter(t=>t!=="")),n.type==="dict"&&Array.isArray(e)&&(e=jt(e)),n.type==="NestedDict"&&(e=JSON.stringify(e)),e);function Rn({runCurlCode:e,webhookCurlCode:n,pythonApiCode:t,jsApiCode:r,pythonCode:o,widgetCode:i}){return[{name:"run curl",code:e},{name:"webhook curl",code:n},{name:"python api",code:t},{name:"js api",code:r},{name:"python code",code:o},{name:"chat widget html",code:i}]}function Xe(e,n,t,r){const o=t[0];return`curl -X POST \\
    "${window.location.protocol}//${window.location.host}/api/v1/run/${r||e}?stream=false" \\
    -H 'Content-Type: application/json'\\${n?"":`
  -H 'x-api-key: <your api key>'\\`}
    -d '{"input_value": "message",
    "output_type": "chat",
    "input_type": "chat",
    "tweaks": ${JSON.stringify(o,null,2)}}'
    `}function Ye(e,n,t){return`curl -X POST \\
  "${window.location.protocol}//${window.location.host}/api/v1/webhook/${t||e}" \\
  -H 'Content-Type: application/json'\\${n?"":`
  -H 'x-api-key: <your api key>'\\`}
  -d '{"any": "data"}'
  `}function qe(e,n,t,r){let o="{}";if(t&&t.length>0){const i=t[0];if(!i)throw new Error("Expected tweaks object is not provided.");o=JSON.stringify(i,null,2)}return`class LangflowClient {
    constructor(baseURL, apiKey) {
        this.baseURL = baseURL;
        this.apiKey = apiKey;
    }
    async post(endpoint, body, headers = {"Content-Type": "application/json"}) {
        if (this.apiKey) {
            headers["Authorization"] = \`Bearer \${this.apiKey}\`;
        }
        const url = \`\${this.baseURL}\${endpoint}\`;
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: headers,
                body: JSON.stringify(body)
            });
            if (!response.ok) {
                throw new Error(\`HTTP error! Status: \${response.status}\`);
            }
            return await response.json();
        } catch (error) {
            console.error('Request Error:', error);
            throw error;
        }
    }

    async initiateSession(flowId, inputValue, stream = false, tweaks = {}) {
        const endpoint = \`/api/v1/run/\${flowId}?stream=\${stream}\`;
        return this.post(endpoint, { input_value: inputValue, tweaks: tweaks });
    }

    handleStream(streamUrl, onUpdate, onClose, onError) {
        const eventSource = new EventSource(streamUrl);

        eventSource.onmessage = event => {
            const data = JSON.parse(event.data);
            onUpdate(data);
        };

        eventSource.onerror = event => {
            console.error('Stream Error:', event);
            onError(event);
            eventSource.close();
        };

        eventSource.addEventListener("close", () => {
            onClose('Stream closed');
            eventSource.close();
        });

        return eventSource;
    }

    async runFlow(flowIdOrName, inputValue, tweaks, stream = false, onUpdate, onClose, onError) {
        try {
            const initResponse = await this.initiateSession(flowIdOrName, inputValue, stream, tweaks);
            console.log('Init Response:', initResponse);
            if (stream && initResponse && initResponse.outputs && initResponse.outputs[0].outputs[0].artifacts.stream_url) {
                const streamUrl = initResponse.outputs[0].outputs[0].artifacts.stream_url;
                console.log(\`Streaming from: \${streamUrl}\`);
                this.handleStream(streamUrl, onUpdate, onClose, onError);
            }
            return initResponse;
        } catch (error) {
            console.error('Error running flow:', error);
            onError('Error initiating session');
        }
    }
}

async function main() {
    const flowIdOrName = '${r||e}';
    const inputValue = 'User message';
    const stream = false;
    const langflowClient = new LangflowClient('${window.location.protocol}//${window.location.host}',
        ${n?"'your-api-key'":"null"});
    const tweaks = ${o};
    response = await langflowClient.runFlow(
        flowIdOrName,
        inputValue,
        tweaks,
        stream,
        (data) => console.log("Received:", data.chunk), // onUpdate
        (message) => console.log("Stream Closed:", message), // onClose
        (error) => console.log("Stream Error:", error) // onError
    );
    if (!stream) {
        const flowOutputs = response.outputs[0];
        const firstComponentOutputs = flowOutputs.outputs[0];
        const output = firstComponentOutputs.outputs.message;

        console.log("Final Output:", output.message.text);
    }
}

main();`}const Hn=e=>{let n=[];return e.data.nodes.forEach(r=>{r.data.node.template&&Object.keys(r.data.node.template).filter(o=>{var i;return o.charAt(0)!=="_"&&((i=r.data.node.template[o])==null?void 0:i.show)&&rt.has(r.data.node.template[o].type)}).map((o,i)=>{n.push(r.id)})}),n.filter((r,o,i)=>i.indexOf(r)===o)};function ze(e,n,t,r){let o="{}";if(t&&t.length>0){const i=t[0];if(!i)throw new Error("expected tweaks");o=JSON.stringify(i,null,2).replace(/true/g,"True").replace(/false/g,"False")}return`import argparse
import json
from argparse import RawTextHelpFormatter
import requests
from typing import Optional
import warnings
try:
    from langflow.load import upload_file
except ImportError:
    warnings.warn("Langflow provides a function to help you upload files to the flow. Please install langflow to use it.")
    upload_file = None

BASE_API_URL = "${window.location.protocol}//${window.location.host}/api/v1/run"
FLOW_ID = "${e}"
ENDPOINT = "${r||""}" ${r?"# The endpoint name of the flow":"# You can set a specific endpoint name in the flow settings"}

# You can tweak the flow by adding a tweaks dictionary
# e.g {"OpenAI-XXXXX": {"model_name": "gpt-4"}}
TWEAKS = ${o}

def run_flow(message: str,
  endpoint: str,
  output_type: str = "chat",
  input_type: str = "chat",
  tweaks: Optional[dict] = None,
  api_key: Optional[str] = None) -> dict:
    """
    Run a flow with a given message and optional tweaks.

    :param message: The message to send to the flow
    :param endpoint: The ID or the endpoint name of the flow
    :param tweaks: Optional tweaks to customize the flow
    :return: The JSON response from the flow
    """
    api_url = f"{BASE_API_URL}/{endpoint}"

    payload = {
        "input_value": message,
        "output_type": output_type,
        "input_type": input_type,
    }
    headers = None
    if tweaks:
        payload["tweaks"] = tweaks
    if api_key:
        headers = {"x-api-key": api_key}
    response = requests.post(api_url, json=payload, headers=headers)
    return response.json()

def main():
    parser = argparse.ArgumentParser(description="""Run a flow with a given message and optional tweaks.
Run it like: python <your file>.py "your message here" --endpoint "your_endpoint" --tweaks '{"key": "value"}'""",
        formatter_class=RawTextHelpFormatter)
    parser.add_argument("message", type=str, help="The message to send to the flow")
    parser.add_argument("--endpoint", type=str, default=ENDPOINT or FLOW_ID, help="The ID or the endpoint name of the flow")
    parser.add_argument("--tweaks", type=str, help="JSON string representing the tweaks to customize the flow", default=json.dumps(TWEAKS))
    parser.add_argument("--api_key", type=str, help="API key for authentication", default=None)
    parser.add_argument("--output_type", type=str, default="chat", help="The output type")
    parser.add_argument("--input_type", type=str, default="chat", help="The input type")
    parser.add_argument("--upload_file", type=str, help="Path to the file to upload", default=None)
    parser.add_argument("--components", type=str, help="Components to upload the file to", default=None)

    args = parser.parse_args()
    try:
      tweaks = json.loads(args.tweaks)
    except json.JSONDecodeError:
      raise ValueError("Invalid tweaks JSON string")

    if args.upload_file:
        if not upload_file:
            raise ImportError("Langflow is not installed. Please install it to use the upload_file function.")
        elif not args.components:
            raise ValueError("You need to provide the components to upload the file to.")
        tweaks = upload_file(file_path=args.upload_file, host=BASE_API_URL, flow_id=ENDPOINT, components=args.components, tweaks=tweaks)

    response = run_flow(
        message=args.message,
        endpoint=args.endpoint,
        output_type=args.output_type,
        input_type=args.input_type,
        tweaks=tweaks,
        api_key=args.api_key
    )

    print(json.dumps(response, indent=2))

if __name__ == "__main__":
    main()
`}function Ge(e,n){let t="{}";if(n&&n.length>0){const r=n[0];if(!r)throw new Error("expected tweaks");t=JSON.stringify(r,null,2).replace(/true/g,"True").replace(/false/g,"False")}return`from langflow.load import run_flow_from_json
TWEAKS = ${t}

result = run_flow_from_json(flow="${e}.json",
                            input_value="message",
                            fallback_to_env_vars=True, # False by default
                            tweaks=TWEAKS)`}const Wn=(e,n,t,r)=>{let o=e??"";if(r.length>0)for(const i of r)Object.keys(i).forEach(c=>{const u=i[c];c==n.id&&Object.keys(u).forEach(f=>{f==t.name&&(o=u[f])})});else return e??"";return o};function Qe(e,n,t){return`<script src="https://cdn.jsdelivr.net/gh/logspace-ai/langflow-embedded-chat@v1.0.3/dist/build/static/js/bundle.min.js""><\/script>

  <langflow-chat
    window_title="${n}"
    flow_id="${e}"
    host_url="http://localhost:7860"${t?"":`
    api_key="..."`}

  ></langflow-chat>`}function he(e,n=!1,t=!1){const r=[{name:"Run cURL",mode:"bash",image:"https://curl.se/logo/curl-symbol-transparent.png",language:"sh",code:e[0]},{name:"Python API",mode:"python",image:"https://images.squarespace-cdn.com/content/v1/5df3d8c5d2be5962e4f87890/1628015119369-OY4TV3XJJ53ECO0W2OLQ/Python+API+Training+Logo.png?format=1000w",language:"py",code:e[2]},{name:"JS API",mode:"javascript",image:"https://cdn-icons-png.flaticon.com/512/136/136530.png",language:"js",code:e[3]},{name:"Python Code",mode:"python",image:"https://cdn-icons-png.flaticon.com/512/5968/5968350.png",language:"py",code:e[4]},{name:"Chat Widget HTML",description:"Insert this code anywhere in your &lt;body&gt; tag. To use with react and other libs, check our <a class='link-color' href='https://langflow.org/guidelines/widget'>documentation</a>.",mode:"html",image:"https://cdn-icons-png.flaticon.com/512/5968/5968350.png",language:"html",code:e[5]}];return n&&r.splice(1,0,{name:"Webhook cURL",mode:"bash",image:"https://curl.se/logo/curl-symbol-transparent.png",language:"sh",code:e[1]}),t&&r.push({name:"Tweaks",mode:"python",image:"https://cdn-icons-png.flaticon.com/512/5968/5968350.png",language:"py",code:e[6]}),r}const Un=l.forwardRef(({flow:e,children:n,open:t,setOpen:r},o)=>{const i=Je(e),c=re(E=>E.tweak),u=re(E=>E.setTweak),f=re(E=>E.setTweaksList),h=re(E=>E.tweaksList),v=Object.keys(i).length>0,[b,y]=l.useState(!1),{autoLogin:m}=l.useContext(Ct),[w,k]=r!==void 0&&t!==void 0?[t,r]:l.useState(!1),[a,g]=l.useState("0"),d=ze(e==null?void 0:e.id,m,c,e==null?void 0:e.endpoint_name),p=qe(e==null?void 0:e.id,m,c,e==null?void 0:e.endpoint_name),j=Xe(e==null?void 0:e.id,m,c,e==null?void 0:e.endpoint_name),$=Ye(e==null?void 0:e.id,m,e==null?void 0:e.endpoint_name),x=Ge(e==null?void 0:e.name,c),T=Qe(e==null?void 0:e.id,e==null?void 0:e.name,m),S=e.webhook,X=[j,$,d,p,x,T],[C,I]=l.useState(he(X,S)),mt=e&&e.data&&e.data.nodes&&c&&(c==null?void 0:c.length)>0&&b===!0,Oe=()=>{const E=[],_=Je(e);E.push(_),u(E),Se(E)};l.useEffect(()=>{e.data.nodes.length==0?(u([]),f([])):Oe(),gt(),v?(g("0"),I(he(X,S,!0))):I(he(X,S,!1))},[e.data.nodes,w]),l.useEffect(()=>{mt?e.data.nodes.forEach(_=>{const D=_.id,A=_.data.node.template;Object.keys(A).forEach(P=>{Nn(_,P)&&De(D,_.data.node.template[P].value,_.data.node.template[P])})}):Oe()},[b]);const gt=()=>{f(Hn(e))};async function De(E,_,D){_=Mn(_,D);const A=c.find(P=>P.hasOwnProperty(E));if(A)A[E][D.name]=_,A[E][D.name]==D.value&&c.forEach(P=>{var B;if(P[E]&&((B=Object.keys(P[E]))==null?void 0:B.length)===0){const ie=c.filter(ee=>{const Y=ee[Object.keys(ee)[0]].prop;return Y!=null&&Y!==""});u(ie)}});else{const P={[E]:{[D.name]:_}};c.push(P)}if(c&&c.length>0){const P=me.cloneDeep(c);Se(P),u(P)}}const Se=E=>{const _=ze(e==null?void 0:e.id,m,E),D=Xe(e==null?void 0:e.id,m,E,e==null?void 0:e.endpoint_name),A=qe(e==null?void 0:e.id,m,E,e==null?void 0:e.endpoint_name),P=Ye(e==null?void 0:e.id,m,e==null?void 0:e.endpoint_name),B=Ge(e==null?void 0:e.name,E),ie=Qe(e==null?void 0:e.id,e==null?void 0:e.name,m),ee=Rn({runCurlCode:D,webhookCurlCode:P,pythonApiCode:_,jsApiCode:A,pythonCode:B,widgetCode:ie}),Y=Wt(S,v);C&&(C==null?void 0:C.length)>0&&C.forEach((le,vt)=>{const Ie=Y[vt];if(Ie&&Ie.toLowerCase()===le.name.toLowerCase()){const ue=ee.find(bt=>bt.name.toLowerCase()===le.name.toLowerCase());le.code=ue==null?void 0:ue.code}})};return s.jsxs(te,{open:w,setOpen:k,children:[s.jsx(te.Trigger,{asChild:!0,children:n}),s.jsxs(te.Header,{description:Tt,children:[s.jsx("span",{className:"pr-2",children:"API"}),s.jsx(L,{name:"Code2",className:"h-6 w-6 pl-1 text-gray-800 dark:text-white","aria-hidden":"true"})]}),s.jsx(te.Content,{overflowHidden:!0,children:s.jsx(Ut,{isThereTweaks:v,isThereWH:S??!1,flow:e,tabs:C,activeTab:a,setActiveTab:g,tweaks:{tweak:c,tweaksList:h,buildContent:An,buildTweakObject:De,getValue:Wn},activeTweaks:b,setActiveTweaks:y,allowExport:!0})})]})}),Kn=Un;function Vn(){const[n,t]=l.useState(!1),[r,o]=l.useState(!1),[i,c]=l.useState(!1);function u(p){ce()&&!r||o(j=>!j)}function f(p){ce()&&!n||G.getState().hasIO&&t(j=>!j)}function h(p){ce()&&!i||c(j=>!j)}const v=pe(p=>p.open),b=pe(p=>p.api),y=pe(p=>p.flow);de(v,f,{preventDefault:!0}),de(b,u,{preventDefault:!0}),de(y,h,{preventDefault:!0});const m=G(p=>p.hasIO),w=U(p=>p.hasStore),k=U(p=>p.validApiKey),a=U(p=>p.hasApiKey),g=K(p=>p.currentFlow);l.useRef();const d=l.useMemo(()=>s.jsx(ot,{is_component:!1,component:g,disabled:!a||!k||!w,open:i,setOpen:c,children:s.jsxs("button",{disabled:!a||!k||!w,className:V("relative inline-flex h-full w-full items-center justify-center gap-[4px] bg-muted px-5 py-3 text-sm font-semibold text-foreground transition-all duration-150 ease-in-out hover:bg-background hover:bg-hover",!a||!k||!w?"button-disable text-muted-foreground":""),"data-testid":"shared-button-flow",children:[s.jsx(L,{name:"Share3",className:V("-m-0.5 -ml-1 h-6 w-6",!a||!k||!w?"extra-side-bar-save-disable":"")}),"Share"]})}),[a,k,g,w,i,c]);return s.jsx(s.Fragment,{children:s.jsx(Pt,{show:!0,appear:!0,enter:"transition ease-out duration-300",enterFrom:"translate-y-96",enterTo:"translate-y-0",leave:"transition ease-in duration-300",leaveFrom:"translate-y-0",leaveTo:"translate-y-96",children:s.jsx("div",{className:"shadow-round-btn-shadow hover:shadow-round-btn-shadow message-button-position flex items-center justify-center gap-7 rounded-sm border bg-muted shadow-md transition-all",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex h-full w-full gap-1 rounded-sm transition-all",children:m?s.jsx(Kt,{open:n,setOpen:t,disable:!m,children:s.jsxs("div",{className:"relative inline-flex w-full items-center justify-center gap-1 px-5 py-3 text-sm font-semibold transition-all duration-500 ease-in-out hover:bg-hover",children:[s.jsx(L,{name:"BotMessageSquareIcon",className:"h-5 w-5 transition-all"}),"Playground"]})}):s.jsxs("div",{className:"relative inline-flex w-full cursor-not-allowed items-center justify-center gap-1 px-5 py-3 text-sm font-semibold text-muted-foreground transition-all duration-150 ease-in-out",children:[s.jsx(L,{name:"BotMessageSquareIcon",className:"h-5 w-5 transition-all"}),"Playground"]})}),s.jsx("div",{children:s.jsx(ve,{orientation:"vertical"})}),s.jsx("div",{className:"flex cursor-pointer items-center gap-2",children:g&&g.data&&s.jsx(Kn,{flow:g,open:r,setOpen:o,children:s.jsxs("div",{className:V("relative inline-flex w-full items-center justify-center gap-1 px-5 py-3 text-sm font-semibold text-foreground transition-all duration-150 ease-in-out hover:bg-hover"),children:[s.jsx(L,{name:"Code2",className:"h-5 w-5"}),"API"]})})}),s.jsx("div",{children:s.jsx(ve,{orientation:"vertical"})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:`side-bar-button ${!a||!k||!w?"cursor-not-allowed":"cursor-pointer"}`,children:d})})]})})})})}function Ze({button:{title:e,Icon:n,buttons:t=[]},isChild:r=!0,children:o,defaultOpen:i}){return s.jsx(J,{as:"div",defaultOpen:i,children:({open:c})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsxs(J.Button,{className:r?"components-disclosure-arrangement-child":"components-disclosure-arrangement","data-testid":`disclosure-${e.toLocaleLowerCase()}`,children:[s.jsxs("div",{className:"flex gap-4"+(r?" pl-2":""),children:[s.jsx(n,{strokeWidth:1.5,size:22,className:"text-primary"}),s.jsx("span",{className:"components-disclosure-title",children:e})]}),s.jsxs("div",{className:"components-disclosure-div",children:[t.map((u,f)=>s.jsx("button",{onClick:u.onClick,children:u.Icon},f)),s.jsx("div",{children:s.jsx(L,{name:"ChevronRight",className:`${c||i?"rotate-90 transform":""} h-4 w-4 text-foreground`})})]})]})}),s.jsx(J.Panel,{as:"div",children:o})]})},e)}function Jn({button:{title:e,Icon:n,buttons:t=[]},children:r,defaultOpen:o,testId:i}){return s.jsx(J,{as:"div",defaultOpen:o,children:({open:c})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsxs(J.Button,{className:"parent-disclosure-arrangement","data-testid":i,children:[s.jsxs("div",{className:"flex items-baseline gap-1 align-baseline",children:[s.jsx("span",{className:"parent-disclosure-title",children:e}),e==="Experimental"&&s.jsx("div",{className:"h-fit rounded-full bg-beta-background px-2 py-1 text-xs/3 font-semibold text-beta-foreground-soft",children:"BETA"})]}),s.jsxs("div",{className:"components-disclosure-div",children:[t.map((u,f)=>s.jsx("button",{onClick:u.onClick,children:u.Icon},f)),s.jsx("div",{children:s.jsx(L,{name:"ChevronsUpDownIcon",className:" h-4 w-4 text-foreground"})})]})]})}),s.jsx(J.Panel,{as:"div",children:r})]})},e)}const Xn=l.forwardRef(({sectionName:e,display_name:n,itemName:t,error:r,color:o,onDragStart:i,apiClass:c,official:u},f)=>{const[h,v]=l.useState(!1),b=K(d=>d.deleteComponent),y=st(d=>d.version),[m,w]=l.useState({x:0,y:0}),k=l.useRef(null),a=d=>{var p;if(!h){const j=((p=k.current)==null?void 0:p.getBoundingClientRect())??{left:0,top:0};w({x:d.clientX-j.left,y:d.clientY-j.top})}};function g(d){switch(d){case"share":break;case"download":const p=ge(t);_t(Lt({id:Ot(p),type:p,node:c},y));break;case"delete":b(n);break}}return s.jsx(Nt,{onValueChange:g,onOpenChange:d=>v(d),open:h,children:s.jsx("div",{onPointerDown:a,onContextMenuCapture:d=>{d.preventDefault(),v(!0)},"data-tooltip-id":t,children:s.jsx("div",{draggable:!r,className:"side-bar-components-border bg-background"+(r?" cursor-not-allowed select-none":""),style:{borderLeftColor:o},onDragStart:i,onDragEnd:()=>{document.body.removeChild(document.getElementsByClassName("cursor-grabbing")[0])},children:s.jsxs("div",{"data-testid":e+n,id:e+n,className:"side-bar-components-div-form",children:[s.jsx("span",{className:"side-bar-components-text",children:n}),s.jsxs("div",{ref:k,children:[s.jsx(L,{name:"Menu",className:"side-bar-components-icon"}),s.jsx(Mt,{}),s.jsxs(Rt,{position:"popper",side:"bottom",sideOffset:-25,style:{position:"absolute",left:m.x,top:m.y},children:[s.jsxs(We,{value:"download",children:[s.jsxs("div",{className:"flex",children:[s.jsx(L,{name:"Download",className:"relative top-0.5 mr-2 h-4 w-4"})," ","Download"," "]})," "]}),!u&&s.jsxs(We,{value:"delete",children:[s.jsxs("div",{className:"flex",children:[s.jsx(L,{name:"Trash2",className:"relative top-0.5 mr-2 h-4 w-4"})," ","Delete"," "]})," "]})]})]})]})})},t)},t)}),Be=Xn;function et(e,n){const t=q.indexOf(e.toLowerCase()),r=q.indexOf(n.toLowerCase());return t!==-1&&r!==-1?t-r:t!==-1?-1:r!==-1?1:e.localeCompare(n)}function tt(e,n){const t=/(.+) \((\w+)\)/,r=e.match(t),o=n.match(t);if(r&&o){const i=r[1],c=o[1];if(i!==c)return i.localeCompare(c);const u=parseInt(r[2]),f=parseInt(o[2]);return u-f}else return e.localeCompare(n)}function Yn(){const e=Me(a=>a.data),n=Me(a=>a.templates),t=G(a=>a.getFilterEdge),r=G(a=>a.setFilterEdge),o=K(a=>a.currentFlow),i=U(a=>a.hasStore),c=U(a=>a.hasApiKey),u=U(a=>a.validApiKey),f=Dt(a=>a.setErrorData),[h,v]=l.useState(e),[b,y]=l.useState("");function m(a,g){var d=a.currentTarget.cloneNode(!0);d.style.position="absolute",d.style.top="-500px",d.style.right="-500px",d.classList.add("cursor-grabbing"),document.body.appendChild(d),a.dataTransfer.setDragImage(d,0,0),a.dataTransfer.setData("nodedata",JSON.stringify(g))}function w(a){if(a===""){v(e);return}v(g=>{let d={};return Object.keys(e).forEach((p,j)=>{d[p]={},Object.keys(e[p]).filter(x=>{var T;return x.toLowerCase().includes(a.toLowerCase())||((T=e[p][x].display_name)==null?void 0:T.toLowerCase().includes(a.toLowerCase()))}).forEach(x=>{d[p][x]=e[p][x]})}),d})}l.useEffect(()=>{let a=[];Object.keys(n).forEach(g=>{n[g].error&&a.push(g)}),a.length>0&&f({title:" Components with errors: ",list:a})},[]);function k(){(!b&&b===""||b==="search")&&(v(e),r([]),y(""))}return l.useEffect(()=>{t.length!==0&&y(""),t.length===0&&b===""&&(y(""),v(e))},[t,e]),l.useEffect(()=>{w(b)},[e]),l.useEffect(()=>{(t==null?void 0:t.length)>0&&v(a=>{let g=me.cloneDeep(e),d={};return Object.keys(g).forEach((p,j)=>{if(d[p]={},t.some($=>$.family===p)){d[p]=g[p];const $=t.filter(x=>x.family===p).pop().type.split(",");for(let x=0;x<$.length;x++)$[x]=$[x].trimStart();if($.some(x=>x!=="")){let x=Object.keys(g[p]).filter(T=>$.includes(T));Object.keys(g[p]).forEach(T=>{x.includes(T)||delete d[p][T]})}}}),y(""),d})},[t]),l.useEffect(()=>{(t==null?void 0:t.length)>0&&v(a=>{let g=me.cloneDeep(e),d={};return Object.keys(g).forEach((p,j)=>{if(d[p]={},t.some($=>$.family===p)){d[p]=g[p];const $=t.filter(x=>x.family===p).pop().type.split(",");for(let x=0;x<$.length;x++)$[x]=$[x].trimStart();if($.some(x=>x!=="")){let x=Object.keys(g[p]).filter(T=>$.includes(T));Object.keys(g[p]).forEach(T=>{x.includes(T)||delete d[p][T]})}}}),y(""),d})},[t,e]),l.useMemo(()=>s.jsx(ot,{is_component:!1,component:o,disabled:!c||!u||!i,children:s.jsxs("button",{disabled:!c||!u||!i,className:V("extra-side-bar-buttons gap-[4px] text-sm font-semibold",!c||!u||!i?"button-disable cursor-default text-muted-foreground":""),children:[s.jsx(L,{name:"Share3",className:V("-m-0.5 -ml-1 h-6 w-6",!c||!u||!i?"extra-side-bar-save-disable":"")}),"Share"]})}),[c,u,o,i]),l.useMemo(()=>s.jsx(Xt,{children:s.jsx("button",{className:V("extra-side-bar-buttons"),children:s.jsx(L,{name:"FileDown",className:"side-bar-button-size"})})}),[]),l.useMemo(()=>a=>{if(R[a])return s.jsx(L,{name:a,strokeWidth:1.5,className:"w-[22px] text-primary"})},[]),s.jsxs("div",{className:"side-bar-arrangement",children:[s.jsxs("div",{className:"side-bar-search-div-placement",children:[s.jsx(Jt,{onFocusCapture:()=>k(),value:b,type:"text",name:"search",id:"search",placeholder:"Search",className:"nopan nodelete nodrag noflow input-search",onChange:a=>{w(a.target.value),y(a.target.value)},autocomplete:"off",readonly:"readonly",onClick:()=>document.getElementById("search").removeAttribute("readonly")}),s.jsx("div",{className:"search-icon",onClick:()=>{b&&(v(e),y(""))},children:s.jsx(L,{name:b?"X":"Search",className:`h-5 w-5 stroke-[1.5] text-primary ${b?"cursor-pointer":"cursor-default"}`,"aria-hidden":"true"})})]}),s.jsx(ve,{}),s.jsxs("div",{className:"side-bar-components-div-arrangement",children:[s.jsx("div",{className:"parent-disclosure-arrangement",children:s.jsx("div",{className:"flex items-center gap-4 align-middle",children:s.jsx("span",{className:"parent-disclosure-title",children:"Components"})})}),Object.keys(h).sort(et).filter(a=>q.includes(a)).map((a,g)=>Object.keys(h[a]).length>0?s.jsx(Ze,{defaultOpen:t.length!==0||b.length!==0,isChild:!1,button:{title:ne[a]??ne.unknown,Icon:R[a]??R.unknown},children:s.jsx("div",{className:"side-bar-components-gap",children:Object.keys(h[a]).sort((d,p)=>tt(h[a][d].display_name,h[a][p].display_name)).map((d,p)=>s.jsx(Re,{content:h[a][d].display_name,side:"right",children:s.jsx(Be,{sectionName:a,apiClass:h[a][d],onDragStart:j=>m(j,{type:ge(d),node:h[a][d]}),color:He[a],itemName:d,error:!!h[a][d].error,display_name:h[a][d].display_name,official:h[a][d].official!==!1},p+d)},p))})},g+b+JSON.stringify(t)):s.jsx("div",{},g))," ",s.jsx(Jn,{defaultOpen:b.length!==0||t.length!==0,button:{title:"Experimental",Icon:R.unknown},testId:"extended-disclosure",children:Object.keys(h).sort(et).filter(a=>!q.includes(a)).map((a,g)=>Object.keys(h[a]).length>0?s.jsxs(l.Fragment,{children:[s.jsx(Ze,{isChild:!1,defaultOpen:t.length!==0||b.length!==0,button:{title:ne[a]??ne.unknown,Icon:R[a]??R.unknown},children:s.jsx("div",{className:"side-bar-components-gap",children:Object.keys(h[a]).sort((d,p)=>tt(h[a][d].display_name,h[a][p].display_name)).map((d,p)=>s.jsx(Re,{content:h[a][d].display_name,side:"right",children:s.jsx(Be,{sectionName:a,apiClass:h[a][d],onDragStart:j=>m(j,{type:ge(d),node:h[a][d]}),color:He[a],itemName:d,error:!!h[a][d].error,display_name:h[a][d].display_name,official:h[a][d].official!==!1},p)},p))})}),g===Object.keys(h).length-q.length+1&&s.jsx(s.Fragment,{children:s.jsxs("a",{target:"_blank",href:"https://langflow.store",className:"components-disclosure-arrangement",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(St,{strokeWidth:1.5,className:"w-[22px] text-primary"}),s.jsx("span",{className:"components-disclosure-title",children:"Discover More"})]}),s.jsx("div",{className:"components-disclosure-div",children:s.jsx("div",{children:s.jsx(It,{className:"h-4 w-4 text-foreground"})})})]})})]},`DisclosureComponent${g+b+JSON.stringify(t)}`):s.jsx("div",{},g))},`${b.length!==0}-${t.length!==0}-Advanced`)]})]})}function gr({view:e}){const n=K(f=>f.setCurrentFlowId),t=st(f=>f.version),r=G(f=>f.setOnFlowPage),o=K(f=>f.currentFlow),{id:i}=Ft(),c=At(),u=K(f=>f.flows);return l.useEffect(()=>{if(!u.some(h=>h.id===i)){c("/all");return}return n(i),r(!0),()=>{r(!1)}},[i]),s.jsxs(s.Fragment,{children:[s.jsx(Vt,{}),s.jsxs("div",{className:"flow-page-positioning",children:[o&&s.jsxs("div",{className:"flex h-full overflow-hidden",children:[!e&&s.jsx(Yn,{}),s.jsxs("main",{className:"flex flex-1",children:[s.jsx("div",{className:"h-full w-full",children:s.jsx(Ht,{flow:o})}),!e&&s.jsx(Vn,{})]})]}),s.jsxs("a",{target:"_blank",href:"https://medium.com/logspace/langflow-datastax-better-together-1b7462cebc4d",className:"langflow-page-icon",children:[t&&s.jsx("div",{className:"mt-1",children:"Langflow 🤝 DataStax"}),s.jsxs("div",{className:t?"mt-2":"mt-1",children:["⛓️ v",t]})]})]})]})}export{gr as default};
